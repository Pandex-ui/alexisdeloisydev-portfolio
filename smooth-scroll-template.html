<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smooth Scroll Template</title>
  <style>
    /* ⭐ SCROLL BEHAVIOR - CSS NATIF ⭐ */
    body {
      scroll-behavior: smooth;
    }

    /* Exemple de navbar fixe (optionnel) */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 80px;
      z-index: 100;
      background: rgba(0, 0, 0, 0.9);
      display: flex;
      gap: 30px;
      padding: 20px 50px;
    }

    .navbar a {
      text-decoration: none;
      color: white;
      font-size: 1rem;
    }

    .navbar a:hover {
      color: #8b5cf6;
    }

    /* Sections exemple */
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background: #f5f5f5;
    }

    section {
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      color: white;
      text-align: center;
      margin-top: 80px; /* pour la navbar fixe */
    }

    #hero {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    #projects {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }

    #about {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    }

    #contact {
      background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
    }
  </style>
</head>
<body>

  <!-- ⭐ NAVBAR AVEC ANCRES ⭐ -->
  <nav class="navbar">
    <a href="#hero">Accueil</a>
    <a href="#projects">Projets</a>
    <a href="#about">À propos</a>
    <a href="#contact">Contact</a>
  </nav>

  <!-- ⭐ SECTIONS AVEC IDs ⭐ -->
  <section id="hero">
    <div>
      <h1>Accueil</h1>
      <a href="#projects">Voir plus</a>
    </div>
  </section>

  <section id="projects">
    <h1>Projets</h1>
  </section>

  <section id="about">
    <h1>À propos</h1>
  </section>

  <section id="contact">
    <h1>Contact</h1>
  </section>

  <!-- ⭐ SMOOTH SCROLL PERSONNALISÉ - JAVASCRIPT ⭐ -->
  <script>
    // Fonction d'easing pour un défilement fluide et naturel
    function easeInOutQuad(t, b, c, d) {
      t /= d / 2;
      if (t < 1) return c / 2 * t * t + b;
      t--;
      return -c / 2 * (t * (t - 2) - 1) + b;
    }

    // Fonction de défilement fluide avec gestion de la navbar
    function smoothScroll(target, duration) {
      const element = document.querySelector(target);
      if (!element) return;

      // Récupère la hauteur de la navbar (si elle existe)
      const navbar = document.querySelector('.navbar');
      const navbarHeight = navbar ? navbar.offsetHeight : 0;
      const gap = 12; // petit espacement en dessous de la navbar

      const start = window.pageYOffset;
      const end = element.getBoundingClientRect().top + window.pageYOffset - navbarHeight - gap;
      const distance = end - start;
      let startTime = null;

      function animation(currentTime) {
        if (startTime === null) startTime = currentTime;

        const timeElapsed = currentTime - startTime;
        const next = easeInOutQuad(timeElapsed, start, distance, duration);

        window.scrollTo(0, next);

        if (timeElapsed < duration) requestAnimationFrame(animation);
      }

      requestAnimationFrame(animation);
    }

    // Intercepte tous les clics sur les ancres (#)
    document.querySelectorAll('a[href^="#"]').forEach(link => {
      link.addEventListener("click", function(e) {
        const target = this.getAttribute("href");

        if (target && target.length > 1) {
          e.preventDefault();
          smoothScroll(target, 700); // 700ms de durée
          try { history.pushState(null, '', target); } catch (err) { /* ignore */ }
        }
      });
    });
  </script>

</body>
</html>
